<!DOCTYPE html>
<html>
  <head>
    <title>Tesla Stock Prediction</title>
  </head>
  <body>
    <div class="wrapper">
    <img src="./Tesla.png" alt="">
    <h1>Stock Price Prediction</h1>
    <div>
      <input type="date" id="date" text-color="white">
      <button onclick="getPrice()" id="btn" class="btn btn-primary">Get Price</button>
    </div>
    <h2><p id = "res">The value of the Tesla stock is predicted to be <span id="predicted"></span> on <span id="date_on_page"></span> as predicted using Linear regression</p></h2>
    <div id="graph" >
      <img src="./tesla_graph.jpg" id="image">
    </div>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    </div>
    </body>

  <script>
    function getPrice(){
      // Define the slope and y-intercept of the line
      const date = document.getElementById("date").value;
      const dateA = new Date(date);
      const dateB = new Date('2016-08-17');
      // Calculate the time difference between the two dates
      const timeDiff = Math.abs(dateB.getTime() - dateA.getTime());
      // Convert the time difference to days
      const noOfDays = Math.ceil(timeDiff / (1000 * 3600 * 24)); 
      const m = 0.48564741424802;
      const c = 121.38275126649;
      // Define the input x-coordinate
      x = noOfDays;
      // Calculate the corresponding y-coordinate
      let y = m * x + c;
      y = y.toFixed(4);
      document.getElementById("predicted").innerHTML = y;
      document.getElementById("date_on_page").innerHTML = date;
      // console.log(y);
      document.getElementById("res").style.display = "block";
      document.getElementById("image").style.display = "block";
    }
    const button = document.getElementById("btn");
    button.addEventListener("click", getPrice);


  </script>
</html>




